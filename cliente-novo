<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configura√ß√£o de IA - Advanx</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .animate-fadeIn {
            animation: fadeIn 0.5s ease-out;
        }

        .animate-slideUp {
            animation: slideUp 0.6s ease-out;
        }

        .animate-spin {
            animation: spin 1s linear infinite;
        }

        input:focus, textarea:focus, select:focus {
            box-shadow: 0 0 0 3px rgba(255, 122, 1, 0.2);
        }

        button:active {
            transform: scale(0.98);
        }

        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-950 via-gray-900 to-black flex items-center justify-center p-4">
    <div class="w-full max-w-4xl">
        <!-- Header com logo e t√≠tulo -->
        <div class="text-center mb-8 animate-fadeIn">
            <div class="inline-flex items-center justify-center w-16 h-16 bg-[#ff7a01] rounded-full mb-4 animate-pulse">
                <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                </svg>
            </div>
            <h1 class="text-4xl font-bold text-white mb-2">Configura√ß√£o de IA</h1>
            <p class="text-gray-400">Configure seu assistente virtual inteligente</p>
        </div>

        <!-- Indicador de progresso -->
        <div class="mb-12">
            <div id="progressIndicator" class="flex justify-between items-center relative">
                <!-- Ser√° preenchido via JavaScript -->
            </div>
        </div>

        <!-- Card do Formul√°rio -->
        <div class="bg-gray-900/80 backdrop-blur-lg rounded-2xl shadow-2xl p-10 border border-[#ff7a01]/30 animate-slideUp">
            <form id="mainForm">
                <!-- Etapa 1: Dados da Empresa -->
                <div id="etapa-0" class="etapa space-y-8 animate-fadeIn">
                    <h2 class="text-3xl font-bold text-white mb-8 flex items-center gap-2">
                        <svg class="w-8 h-8 text-[#ff7a01]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
                        </svg>
                        Dados da Empresa
                    </h2>
                    
                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm">Nome da Empresa *</label>
                        <input type="text" id="nomeEmpresa" required class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="Digite o nome da empresa">
                    </div>

                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm">Segmento de Atua√ß√£o *</label>
                        <input type="text" id="segmento" required class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="Ex: Direito Banc√°rio, E-commerce, Consultoria...">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">Telefone *</label>
                            <input type="tel" id="telefone" required class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="(00) 00000-0000">
                        </div>

                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">E-mail *</label>
                            <input type="email" id="email" required class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="contato@empresa.com">
                        </div>
                    </div>

                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm flex items-center gap-2">
                            <svg class="w-4 h-4 text-[#ff7a01]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                            </svg>
                            Link da Planilha de Leads (Opcional)
                        </label>
                        <input type="url" id="linkPlanilhaLeads" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="https://docs.google.com/spreadsheets/...">
                        <p class="text-gray-500 text-xs mt-2">Cole o link da planilha do Google Sheets ou Excel Online onde os leads ser√£o registrados</p>
                    </div>
                </div>

                <!-- Etapa 2: Hor√°rio de Atendimento -->
                <div id="etapa-1" class="etapa space-y-8 animate-fadeIn hidden">
                    <h2 class="text-3xl font-bold text-white mb-8 flex items-center gap-2">
                        <svg class="w-8 h-8 text-[#ff7a01]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Hor√°rio de Atendimento
                    </h2>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">Hor√°rio In√≠cio *</label>
                            <input type="time" id="horarioInicio" required class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all">
                        </div>

                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">Hor√°rio Fim *</label>
                            <input type="time" id="horarioFim" required class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all">
                        </div>
                    </div>

                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm">Dias de Atendimento *</label>
                        <div id="diasSemana" class="grid grid-cols-2 md:grid-cols-4 gap-3">
                            <!-- Ser√° preenchido via JavaScript -->
                        </div>
                    </div>

                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm">Tempo M√©dio de Resposta</label>
                        <select id="tempoResposta" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all">
                            <option value="">Selecione</option>
                            <option value="imediato">Imediato (IA)</option>
                            <option value="5min">At√© 5 minutos</option>
                            <option value="30min">At√© 30 minutos</option>
                            <option value="1h">At√© 1 hora</option>
                            <option value="custom">Personalizado</option>
                        </select>
                    </div>
                </div>

                <!-- Etapa 3: Scripts Comerciais -->
                <div id="etapa-2" class="etapa space-y-8 animate-fadeIn hidden">
                    <h2 class="text-3xl font-bold text-white mb-8 flex items-center gap-2">
                        <svg class="w-8 h-8 text-[#ff7a01]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"></path>
                        </svg>
                        Scripts de Atendimento
                    </h2>

                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm">Script de Boas-Vindas *</label>
                        <textarea id="scriptBoasVindas" required rows="3" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all resize-none" placeholder="Ex: Ol√°! Bem-vindo √† [Empresa]. Como posso ajud√°-lo hoje?"></textarea>
                    </div>

                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm">Script Comercial Principal *</label>
                        <textarea id="scriptComercial" required rows="6" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all resize-none" placeholder="Descreva seu script comercial, principais servi√ßos, diferenciais..."></textarea>
                    </div>

                    <div>
                        <div class="flex justify-between items-center mb-3">
                            <label class="block text-gray-300 font-semibold text-sm">Scripts de Follow-Up (Opcional)</label>
                            <button type="button" id="addFollowUp" class="text-[#ff7a01] hover:text-orange-400 text-sm font-semibold flex items-center gap-2 transition-all px-4 py-2 rounded-lg hover:bg-gray-800/50">
                                <span class="text-lg">+</span> Adicionar Follow-Up
                            </button>
                        </div>
                        <div id="followUpContainer">
                            <div class="mb-3 flex gap-2 followup-item">
                                <textarea rows="2" class="followup-textarea flex-1 bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all resize-none" placeholder="Follow-up 1: Ex: 'Ol√°! Vi que voc√™ demonstrou interesse...'"></textarea>
                            </div>
                        </div>
                    </div>

                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm">Tonalidade da IA</label>
                        <select id="tonalidadeIA" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all">
                            <option value="profissional">Profissional</option>
                            <option value="amigavel">Amig√°vel</option>
                            <option value="formal">Formal</option>
                            <option value="descontraido">Descontra√≠do</option>
                        </select>
                    </div>
                </div>

                <!-- Etapa 4: Redes Sociais -->
                <div id="etapa-3" class="etapa space-y-8 animate-fadeIn hidden">
                    <h2 class="text-3xl font-bold text-white mb-8 flex items-center gap-2">
                        <svg class="w-8 h-8 text-[#ff7a01]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                        Redes Sociais e Canais
                    </h2>

                    <div>
                        <label class="block text-gray-300 mb-3 font-semibold text-sm flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>
                            Website
                        </label>
                        <input type="url" id="site" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="https://www.seusite.com">
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">Instagram</label>
                            <input type="text" id="instagram" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="@seuperfil">
                        </div>

                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">Facebook</label>
                            <input type="text" id="facebook" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="facebook.com/suapagina">
                        </div>

                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">LinkedIn</label>
                            <input type="text" id="linkedin" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="linkedin.com/company/suaempresa">
                        </div>

                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">TikTok</label>
                            <input type="text" id="tiktok" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="@seuperfil">
                        </div>

                        <div>
                            <label class="block text-gray-300 mb-3 font-semibold text-sm">YouTube</label>
                            <input type="text" id="youtube" class="w-full bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all" placeholder="youtube.com/@seucanal">
                        </div>
                    </div>
                </div>

                <!-- Etapa 5: Resumo Final -->
                <div id="etapa-4" class="etapa space-y-8 animate-fadeIn hidden">
                    <h2 class="text-3xl font-bold text-white mb-8 flex items-center gap-2">
                        <svg class="w-8 h-8 text-[#ff7a01]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                        </svg>
                        Revis√£o Final
                    </h2>

                    <div id="resumoFinal" class="bg-gray-800/60 border border-[#ff7a01]/30 rounded-xl p-8 space-y-6">
                        <!-- Ser√° preenchido via JavaScript -->
                    </div>

                    <div class="bg-gradient-to-r from-[#ff7a01] to-orange-600 rounded-xl p-6 text-center shadow-lg shadow-orange-500/30">
                        <svg class="w-12 h-12 text-white mx-auto mb-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                        </svg>
                        <h3 class="text-white font-bold text-xl mb-2">Tudo pronto para sua IA! ‚ú®</h3>
                        <p class="text-white/90 text-sm">Sua assistente virtual ser√° configurada com todas essas informa√ß√µes</p>
                    </div>
                </div>

                <!-- Mensagem de envio -->
                <div id="mensagemEnvio" class="hidden mt-6 p-4 rounded-lg animate-fadeIn"></div>

                <!-- Bot√µes de Navega√ß√£o -->
                <div class="flex justify-between mt-10 pt-8 border-t border-[#ff7a01]/20">
                    <button type="button" id="btnVoltar" class="px-8 py-4 rounded-lg font-semibold text-base transition-all bg-gray-700/30 text-gray-500 cursor-not-allowed">
                        ‚Üê Voltar
                    </button>

                    <button type="button" id="btnProximo" class="px-8 py-4 bg-gradient-to-r from-[#ff7a01] to-orange-600 text-white rounded-lg font-semibold text-base hover:from-orange-600 hover:to-orange-700 transition-all flex items-center gap-2 shadow-lg shadow-orange-500/50">
                        Pr√≥ximo
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
                        </svg>
                    </button>

                    <button type="submit" id="btnFinalizar" class="hidden px-10 py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white rounded-lg font-semibold text-base hover:from-green-700 hover:to-emerald-700 transition-all flex items-center gap-2 shadow-lg shadow-green-500/50">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                        </svg>
                        Finalizar Configura√ß√£o
                    </button>
                </div>
            </form>
        </div>

        <!-- Footer -->
        <div class="text-center mt-8 text-gray-500 text-sm">
            Powered by <span class="text-[#ff7a01] font-semibold">Advanx</span> AI Solutions
        </div>
    </div>

    <script>
        // Estado da aplica√ß√£o
        let etapaAtual = 0;
        const totalEtapas = 5;
        const etapas = [
            { titulo: 'Dados da\nEmpresa', icone: 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4' },
            { titulo: 'Hor√°rio de\nAtendimento', icone: 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z' },
            { titulo: 'Scripts\nComerciais', icone: 'M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z' },
            { titulo: 'Redes\nSociais', icone: 'M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z' },
            { titulo: 'Finalizar', icone: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z' }
        ];

        const diasSemana = ['Segunda', 'Ter√ßa', 'Quarta', 'Quinta', 'Sexta', 'S√°bado', 'Domingo'];
        let diasSelecionados = [];

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            renderizarProgressoIndicator();
            renderizarDiasSemana();
            configurarEventos();
            atualizarBotoes();
        });

        function renderizarProgressoIndicator() {
            const container = document.getElementById('progressIndicator');
            let html = '';
            
            etapas.forEach((etapa, index) => {
                const ativo = index <= etapaAtual;
                html += `
                    <div class="flex flex-col items-center flex-1 relative z-10">
                        <div class="w-16 h-16 rounded-full flex items-center justify-center transition-all duration-500 ${ativo ? 'bg-[#ff7a01] scale-110 shadow-lg shadow-orange-500/50' : 'bg-gray-700'}">
                            <svg class="w-7 h-7 ${ativo ? 'text-white' : 'text-gray-400'}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${etapa.icone}"></path>
                            </svg>
                        </div>
                        <span class="text-xs mt-3 transition-all duration-300 text-center ${ativo ? 'text-white font-semibold' : 'text-gray-500'}">${etapa.titulo}</span>
                    </div>
                `;
            });

            html += `
                <div class="absolute top-8 left-0 w-full h-0.5 bg-gray-700 -z-0" style="left: 8%; width: 84%;">
                    <div class="h-full bg-[#ff7a01] transition-all duration-500" style="width: ${(etapaAtual / (totalEtapas - 1)) * 100}%"></div>
                </div>
            `;

            container.innerHTML = html;
        }

        function renderizarDiasSemana() {
            const container = document.getElementById('diasSemana');
            diasSemana.forEach(dia => {
                const btn = document.createElement('button');
                btn.type = 'button';
                btn.textContent = dia;
                btn.className = 'px-5 py-4 rounded-lg font-semibold text-sm transition-all bg-gray-800/80 text-gray-400 hover:border-gray-600';
                btn.onclick = () => toggleDia(dia, btn);
                container.appendChild(btn);
            });
        }

        function toggleDia(dia, btn) {
            const index = diasSelecionados.indexOf(dia);
            if (index > -1) {
                diasSelecionados.splice(index, 1);
                btn.className = 'px-5 py-4 rounded-lg font-semibold text-sm transition-all bg-gray-800/80 text-gray-400 hover:border-gray-600';
            } else {
                diasSelecionados.push(dia);
                btn.className = 'px-5 py-4 rounded-lg font-semibold text-sm transition-all bg-[#ff7a01] text-white shadow-lg shadow-orange-500/50 scale-105';
            }
        }

        function configurarEventos() {
            document.getElementById('btnProximo').onclick = proximaEtapa;
            document.getElementById('btnVoltar').onclick = etapaAnterior;
            document.getElementById('mainForm').onsubmit = handleSubmit;
            document.getElementById('addFollowUp').onclick = adicionarFollowUp;
        }

        function proximaEtapa() {
            if (etapaAtual < totalEtapas - 1) {
                document.getElementById(`etapa-${etapaAtual}`).classList.add('hidden');
                etapaAtual++;
                document.getElementById(`etapa-${etapaAtual}`).classList.remove('hidden');
                
                if (etapaAtual === totalEtapas - 1) {
                    renderizarResumo();
                }
                
                atualizarBotoes();
                renderizarProgressoIndicator();
            }
        }

        function etapaAnterior() {
            if (etapaAtual > 0) {
                document.getElementById(`etapa-${etapaAtual}`).classList.add('hidden');
                etapaAtual--;
                document.getElementById(`etapa-${etapaAtual}`).classList.remove('hidden');
                atualizarBotoes();
                renderizarProgressoIndicator();
            }
        }

        function atualizarBotoes() {
            const btnVoltar = document.getElementById('btnVoltar');
            const btnProximo = document.getElementById('btnProximo');
            const btnFinalizar = document.getElementById('btnFinalizar');

            // Bot√£o Voltar
            if (etapaAtual === 0) {
                btnVoltar.className = 'px-8 py-4 rounded-lg font-semibold text-base transition-all bg-gray-700/30 text-gray-500 cursor-not-allowed';
                btnVoltar.disabled = true;
            } else {
                btnVoltar.className = 'px-8 py-4 rounded-lg font-semibold text-base transition-all bg-gray-700 text-white hover:bg-gray-600';
                btnVoltar.disabled = false;
            }

            // Bot√µes Pr√≥ximo/Finalizar
            if (etapaAtual === totalEtapas - 1) {
                btnProximo.classList.add('hidden');
                btnFinalizar.classList.remove('hidden');
            } else {
                btnProximo.classList.remove('hidden');
                btnFinalizar.classList.add('hidden');
            }
        }

        function adicionarFollowUp() {
            const container = document.getElementById('followUpContainer');
            const count = container.children.length + 1;
            const div = document.createElement('div');
            div.className = 'mb-3 flex gap-2 followup-item';
            div.innerHTML = `
                <textarea rows="2" class="followup-textarea flex-1 bg-gray-800/80 border border-gray-700 rounded-lg px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all resize-none" placeholder="Follow-up ${count}: Ex: 'Ol√°! Vi que voc√™ demonstrou interesse...'"></textarea>
                <button type="button" onclick="removerFollowUp(this)" class="px-4 py-2 bg-red-600/20 hover:bg-red-600/30 text-red-400 rounded-lg transition-all">‚úï</button>
            `;
            container.appendChild(div);
        }

        function removerFollowUp(btn) {
            btn.parentElement.remove();
        }

        function renderizarResumo() {
            const container = document.getElementById('resumoFinal');
            
            const nomeEmpresa = document.getElementById('nomeEmpresa').value || 'N√£o informado';
            const segmento = document.getElementById('segmento').value || 'Segmento n√£o informado';
            const linkPlanilha = document.getElementById('linkPlanilhaLeads').value;
            const horarioInicio = document.getElementById('horarioInicio').value;
            const horarioFim = document.getElementById('horarioFim').value;
            
            const followUps = Array.from(document.querySelectorAll('.followup-textarea')).filter(t => t.value.trim());
            
            const redesSociais = {
                site: document.getElementById('site').value,
                instagram: document.getElementById('instagram').value,
                facebook: document.getElementById('facebook').value,
                linkedin: document.getElementById('linkedin').value,
                tiktok: document.getElementById('tiktok').value,
                youtube: document.getElementById('youtube').value
            };

            const redesPreenchidas = Object.entries(redesSociais).filter(([k, v]) => v);

            let html = `
                <div class="pb-6 border-b border-gray-700">
                    <h3 class="text-[#ff7a01] font-bold text-lg mb-3 flex items-center gap-2">
                        <span class="text-2xl">üìã</span> Empresa
                    </h3>
                    <p class="text-white font-semibold text-lg">${nomeEmpresa}</p>
                    <p class="text-gray-400 mt-1">${segmento}</p>
                    ${linkPlanilha ? '<p class="text-[#ff7a01] text-sm mt-3 flex items-center gap-2"><span>‚úì</span> Planilha de leads configurada</p>' : ''}
                </div>

                <div class="pb-6 border-b border-gray-700">
                    <h3 class="text-[#ff7a01] font-bold text-lg mb-3 flex items-center gap-2">
                        <span class="text-2xl">üïê</span> Hor√°rio de Atendimento
                    </h3>
                    <p class="text-white font-semibold">${horarioInicio && horarioFim ? `${horarioInicio} √†s ${horarioFim}` : 'N√£o configurado'}</p>
                    <p class="text-gray-400 mt-1">${diasSelecionados.length > 0 ? diasSelecionados.join(', ') : 'Nenhum dia selecionado'}</p>
                </div>

                <div class="pb-6 border-b border-gray-700">
                    <h3 class="text-[#ff7a01] font-bold text-lg mb-3 flex items-center gap-2">
                        <span class="text-2xl">üí¨</span> Scripts Configurados
                    </h3>
                    <div class="space-y-2">
                        <p class="text-white flex items-center gap-2"><span class="text-green-400">‚úì</span> Script de Boas-Vindas</p>
                        <p class="text-white flex items-center gap-2"><span class="text-green-400">‚úì</span> Script Comercial</p>
                        <p class="text-white flex items-center gap-2">
                            ${followUps.length > 0 
                                ? `<span class="text-green-400">‚úì</span> ${followUps.length} Follow-up(s)` 
                                : '<span class="text-gray-500">‚óã</span> <span class="text-gray-500">Sem follow-ups</span>'}
                        </p>
                    </div>
                </div>

                <div>
                    <h3 class="text-[#ff7a01] font-bold text-lg mb-3 flex items-center gap-2">
                        <span class="text-2xl">üåê</span> Redes Sociais
                    </h3>
                    <div class="text-gray-400 space-y-2">
                        ${redesPreenchidas.length > 0 
                            ? redesPreenchidas.map(([k, v]) => `
                                <p class="flex items-center gap-2">
                                    <span class="text-green-400">‚úì</span>
                                    <span class="text-white font-medium">${k.charAt(0).toUpperCase() + k.slice(1)}:</span>
                                    <span class="text-gray-400">${v}</span>
                                </p>
                            `).join('')
                            : '<p class="text-gray-500">Nenhuma rede social configurada</p>'}
                    </div>
                </div>
            `;

            container.innerHTML = html;
        }

        async function handleSubmit(e) {
            e.preventDefault();

            const btnFinalizar = document.getElementById('btnFinalizar');
            btnFinalizar.disabled = true;
            btnFinalizar.innerHTML = `
                <svg class="animate-spin h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                </svg>
                Enviando...
            `;

            const followUps = Array.from(document.querySelectorAll('.followup-textarea')).map(t => t.value.trim()).filter(v => v);

            const formData = {
                nomeEmpresa: document.getElementById('nomeEmpresa').value,
                segmento: document.getElementById('segmento').value,
                telefone: document.getElementById('telefone').value,
                email: document.getElementById('email').value,
                linkPlanilhaLeads: document.getElementById('linkPlanilhaLeads').value,
                horarioAtendimento: {
                    inicio: document.getElementById('horarioInicio').value,
                    fim: document.getElementById('horarioFim').value,
                    diasSemana: diasSelecionados
                },
                tempoResposta: document.getElementById('tempoResposta').value,
                scriptBoasVindas: document.getElementById('scriptBoasVindas').value,
                scriptComercial: document.getElementById('scriptComercial').value,
                scriptsFollowUp: followUps,
                redesSociais: {
                    site: document.getElementById('site').value,
                    instagram: document.getElementById('instagram').value,
                    facebook: document.getElementById('facebook').value,
                    linkedin: document.getElementById('linkedin').value,
                    tiktok: document.getElementById('tiktok').value,
                    youtube: document.getElementById('youtube').value
                },
                tonalidadeIA: document.getElementById('tonalidadeIA').value
            };

            try {
                const response = await fetch('https://n8n.advfunnel.com.br/webhook/d30efe95-c0cd-430b-8888-43f2b1381037/lead', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });

                const mensagem = document.getElementById('mensagemEnvio');
                
                if (response.ok) {
                    mensagem.className = 'mt-6 p-4 rounded-lg animate-fadeIn bg-green-900/30 border border-green-500/50 text-green-300';
                    mensagem.textContent = 'Configura√ß√£o da IA enviada com sucesso! ‚ú®';
                    mensagem.classList.remove('hidden');
                    
                    setTimeout(() => {
                        window.location.reload();
                    }, 2000);
                } else {
                    throw new Error('Erro ao enviar');
                }
            } catch (error) {
                const mensagem = document.getElementById('mensagemEnvio');
                mensagem.className = 'mt-6 p-4 rounded-lg animate-fadeIn bg-red-900/30 border border-red-500/50 text-red-300';
                mensagem.textContent = 'Erro ao enviar configura√ß√£o. Tente novamente.';
                mensagem.classList.remove('hidden');
                
                btnFinalizar.disabled = false;
                btnFinalizar.innerHTML = `
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"></path>
                    </svg>
                    Finalizar Configura√ß√£o
                `;
            }
        }
    </script>
</body>
</html>
